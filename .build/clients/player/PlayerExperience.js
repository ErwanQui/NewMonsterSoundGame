"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _client = require("@soundworks/core/client");

var _litHtml = require("lit-html");

var _renderInitializationScreens = _interopRequireDefault(require("@soundworks/template-helpers/client/render-initialization-screens.js"));

var _Monster = _interopRequireDefault(require("./Monster.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

class PlayerExperience extends _client.AbstractExperience {
  constructor(client, config = {}, $container) {
    super(client);
    this.config = config;
    this.$container = $container;
    this.rafId = null;
    this.filesystem = this.require('filesystem'); // this.audioBufferLoader = this.require('audio-buffer-loader');
    // require plugins if needed

    this.audioBufferLoader = this.require('audio-buffer-loader');
    this.ambisonics = require('ambisonics');
    console.log(this.audioBufferLoader);
    this.initialising = true;
    this.audioContext = new AudioContext();
    this.monsters = {
      List: [],
      LifeTime: 10,
      Speed: 10,
      SpawnRate: 10,
      Scream: null,
      SoundOut: null
    };
    this.azimutAim = 180;
    this.azimutPrecision = 180;
    this.playerGain = this.audioContext.createGain();
    (0, _renderInitializationScreens.default)(client, config, $container);
  }

  async start() {
    super.start();
    this.monsters.Scream = await this.audioBufferLoader.load({
      'MonsterSound1': 'Audio/Monster1.mp3',
      'MonsterSound2': 'Audio/Monster2.mp3',
      'MonsterSound3': 'Audio/Monster3.mp3',
      'MonsterSound4': 'Audio/Monster4.mp3',
      'MonsterSound5': 'Audio/Monster5.mp3'
    }, true);
    this.soundBank = await this.audioBufferLoader.load({
      'MonsterDie': 'Audio/MonsterDie.wav',
      'Shoot': 'Audio/Kill.mp3'
    }, true);
    this.monsters.SoundOut = new this.ambisonics.binDecoder(this.audioContext, 2);
    this.playerGain.connect(this.audioContext.destination);
    this.monsters.SoundOut.out.connect(this.audioContext.destination);
    window.addEventListener('resize', () => this.render());
    this.render();
  }

  loadSoundbank() {
    const soundbankTree = this.filesystem.get('soundbank');
    const defObj = {};
    soundbankTree.children.forEach(leaf => {
      if (leaf.type === 'file') {
        defObj[leaf.name] = leaf.url;
      }
    });
    this.audioBufferLoader.load(defObj, true);
  }

  render() {
    // debounce with requestAnimationFrame
    window.cancelAnimationFrame(this.rafId);
    this.rafId = window.requestAnimationFrame(() => {
      (0, _litHtml.render)((0, _litHtml.html)`
        <div style="padding: 20px">
          <h1 style="margin: 20px 0">${this.client.type} [id: ${this.client.id}]</h1>
        </div>
        <div>
        <input type="button" id="beginButton" value="Validate"/>
        </div>
        <div>
        <input type="button" id="shootButton" value="Shoot" style="width: 200px; height: 200px;"/>
        </div>
        <div>
        <input type="range" id="sliderAzimAim" min=0 max=360 value=${this.azimutAim}/>${this.azimutAim}
        </div>
      `, this.$container); // assign callbacks

      if (this.initialising) {
        this.beginButton = document.getElementById("beginButton");
        this.beginButton.addEventListener("click", () => {
          this.onBeginClicked();
        });
        var shootButton = document.getElementById("shootButton");
        shootButton.addEventListener("click", () => {
          this.onShootClicked();
        });
        var slider = document.getElementById("sliderAzimAim");
        slider.addEventListener("input", () => {
          this.azimutAim = slider.value;
          this.render(); // this.onAzimAimChange(slider.value);
        });
        this.initialising = false;
      }
    });
  }

  onBeginClicked() {
    console.log("de");
    console.log(this);
    setInterval(() => {
      console.log(this.monsters);
      this.monsters.List.push(new _Monster.default(this.monsters, this.audioContext)); // console.log(this.monsterList)

      this.monsters.List[this.monsters.List.length - 1].start(); // this.monsterTemplate += 2;
    }, 1000 * this.monsters.SpawnRate);
  }

  onShootClicked() {
    var killing = false;
    var iterator = 0;
    this.Play(this.soundBank.Shoot);

    while (iterator < this.monsters.List.length && this.monsters.List[iterator].Shoot(this.azimutAim) > this.azimutPrecision) {
      iterator += 1;
    }

    if (iterator < this.monsters.List.length) {
      console.log("You kill a monster");
      this.Play(this.soundBank.MonsterDie);
      this.monsters.List[iterator].Die();
      this.monsters.List.splice(iterator, 1);
      console.log(this.monsters.List);
    } else {
      console.log("You miss your shoot");
      this.monsters.List = [];
    }
  }

  Play(buffer) {
    var Sound = this.audioContext.createBufferSource();
    Sound.loop = false;
    Sound.buffer = buffer;
    Sound.connect(this.playerGain);
    Sound.addEventListener('ended', () => {
      Sound.disconnect(this.playerGain);
    });
    Sound.start();
  }

}

var _default = PlayerExperience;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQbGF5ZXJFeHBlcmllbmNlIiwiQWJzdHJhY3RFeHBlcmllbmNlIiwiY29uc3RydWN0b3IiLCJjbGllbnQiLCJjb25maWciLCIkY29udGFpbmVyIiwicmFmSWQiLCJmaWxlc3lzdGVtIiwicmVxdWlyZSIsImF1ZGlvQnVmZmVyTG9hZGVyIiwiYW1iaXNvbmljcyIsImNvbnNvbGUiLCJsb2ciLCJpbml0aWFsaXNpbmciLCJhdWRpb0NvbnRleHQiLCJBdWRpb0NvbnRleHQiLCJtb25zdGVycyIsIkxpc3QiLCJMaWZlVGltZSIsIlNwZWVkIiwiU3Bhd25SYXRlIiwiU2NyZWFtIiwiU291bmRPdXQiLCJhemltdXRBaW0iLCJhemltdXRQcmVjaXNpb24iLCJwbGF5ZXJHYWluIiwiY3JlYXRlR2FpbiIsInJlbmRlckluaXRpYWxpemF0aW9uU2NyZWVucyIsInN0YXJ0IiwibG9hZCIsInNvdW5kQmFuayIsImJpbkRlY29kZXIiLCJjb25uZWN0IiwiZGVzdGluYXRpb24iLCJvdXQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVuZGVyIiwibG9hZFNvdW5kYmFuayIsInNvdW5kYmFua1RyZWUiLCJnZXQiLCJkZWZPYmoiLCJjaGlsZHJlbiIsImZvckVhY2giLCJsZWFmIiwidHlwZSIsIm5hbWUiLCJ1cmwiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImh0bWwiLCJpZCIsImJlZ2luQnV0dG9uIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIm9uQmVnaW5DbGlja2VkIiwic2hvb3RCdXR0b24iLCJvblNob290Q2xpY2tlZCIsInNsaWRlciIsInZhbHVlIiwic2V0SW50ZXJ2YWwiLCJwdXNoIiwiTW9uc3RlciIsImxlbmd0aCIsImtpbGxpbmciLCJpdGVyYXRvciIsIlBsYXkiLCJTaG9vdCIsIk1vbnN0ZXJEaWUiLCJEaWUiLCJzcGxpY2UiLCJidWZmZXIiLCJTb3VuZCIsImNyZWF0ZUJ1ZmZlclNvdXJjZSIsImxvb3AiLCJkaXNjb25uZWN0Il0sInNvdXJjZXMiOlsiUGxheWVyRXhwZXJpZW5jZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBYnN0cmFjdEV4cGVyaWVuY2UgfSBmcm9tICdAc291bmR3b3Jrcy9jb3JlL2NsaWVudCc7XG5pbXBvcnQgeyByZW5kZXIsIGh0bWwgfSBmcm9tICdsaXQtaHRtbCc7XG5pbXBvcnQgcmVuZGVySW5pdGlhbGl6YXRpb25TY3JlZW5zIGZyb20gJ0Bzb3VuZHdvcmtzL3RlbXBsYXRlLWhlbHBlcnMvY2xpZW50L3JlbmRlci1pbml0aWFsaXphdGlvbi1zY3JlZW5zLmpzJztcblxuaW1wb3J0IE1vbnN0ZXIgZnJvbSAnLi9Nb25zdGVyLmpzJztcblxuY2xhc3MgUGxheWVyRXhwZXJpZW5jZSBleHRlbmRzIEFic3RyYWN0RXhwZXJpZW5jZSB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgY29uZmlnID0ge30sICRjb250YWluZXIpIHtcbiAgICBzdXBlcihjbGllbnQpO1xuXG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy4kY29udGFpbmVyID0gJGNvbnRhaW5lcjtcbiAgICB0aGlzLnJhZklkID0gbnVsbDtcblxuICAgIHRoaXMuZmlsZXN5c3RlbSA9IHRoaXMucmVxdWlyZSgnZmlsZXN5c3RlbScpO1xuICAgIC8vIHRoaXMuYXVkaW9CdWZmZXJMb2FkZXIgPSB0aGlzLnJlcXVpcmUoJ2F1ZGlvLWJ1ZmZlci1sb2FkZXInKTtcblxuXG4vLyByZXF1aXJlIHBsdWdpbnMgaWYgbmVlZGVkXG4gICAgdGhpcy5hdWRpb0J1ZmZlckxvYWRlciA9IHRoaXMucmVxdWlyZSgnYXVkaW8tYnVmZmVyLWxvYWRlcicpO1xuICAgIHRoaXMuYW1iaXNvbmljcyA9IHJlcXVpcmUoJ2FtYmlzb25pY3MnKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLmF1ZGlvQnVmZmVyTG9hZGVyKVxuICAgIHRoaXMuaW5pdGlhbGlzaW5nID0gdHJ1ZTtcblxuXG4gICAgdGhpcy5hdWRpb0NvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KCk7XG5cbiAgICB0aGlzLm1vbnN0ZXJzID0ge1xuICAgICAgTGlzdDogW10sXG4gICAgICBMaWZlVGltZTogMTAsXG4gICAgICBTcGVlZDogMTAsXG4gICAgICBTcGF3blJhdGU6IDEwLFxuICAgICAgU2NyZWFtOiBudWxsLFxuICAgICAgU291bmRPdXQ6IG51bGwsXG4gICAgfVxuICAgIHRoaXMuYXppbXV0QWltID0gMTgwO1xuICAgIHRoaXMuYXppbXV0UHJlY2lzaW9uID0gMTgwO1xuXG5cbiAgICB0aGlzLnBsYXllckdhaW4gPSB0aGlzLmF1ZGlvQ29udGV4dC5jcmVhdGVHYWluKCk7XG5cbiAgICByZW5kZXJJbml0aWFsaXphdGlvblNjcmVlbnMoY2xpZW50LCBjb25maWcsICRjb250YWluZXIpO1xuICB9XG5cbiAgYXN5bmMgc3RhcnQoKSB7XG4gICAgc3VwZXIuc3RhcnQoKTtcblxuICAgIHRoaXMubW9uc3RlcnMuU2NyZWFtID0gYXdhaXQgdGhpcy5hdWRpb0J1ZmZlckxvYWRlci5sb2FkKHtcbiAgICAgICdNb25zdGVyU291bmQxJzogJ0F1ZGlvL01vbnN0ZXIxLm1wMycsXG4gICAgICAnTW9uc3RlclNvdW5kMic6ICdBdWRpby9Nb25zdGVyMi5tcDMnLFxuICAgICAgJ01vbnN0ZXJTb3VuZDMnOiAnQXVkaW8vTW9uc3RlcjMubXAzJyxcbiAgICAgICdNb25zdGVyU291bmQ0JzogJ0F1ZGlvL01vbnN0ZXI0Lm1wMycsXG4gICAgICAnTW9uc3RlclNvdW5kNSc6ICdBdWRpby9Nb25zdGVyNS5tcDMnLFxuICAgIH0sIHRydWUpO1xuXG4gICAgdGhpcy5zb3VuZEJhbmsgPSBhd2FpdCB0aGlzLmF1ZGlvQnVmZmVyTG9hZGVyLmxvYWQoe1xuICAgICAgJ01vbnN0ZXJEaWUnOidBdWRpby9Nb25zdGVyRGllLndhdicsXG4gICAgICAnU2hvb3QnOiAnQXVkaW8vS2lsbC5tcDMnLFxuICAgIH0sIHRydWUpO1xuXG4gICAgdGhpcy5tb25zdGVycy5Tb3VuZE91dCA9IG5ldyB0aGlzLmFtYmlzb25pY3MuYmluRGVjb2Rlcih0aGlzLmF1ZGlvQ29udGV4dCwgMik7XG5cbiAgICB0aGlzLnBsYXllckdhaW4uY29ubmVjdCh0aGlzLmF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgdGhpcy5tb25zdGVycy5Tb3VuZE91dC5vdXQuY29ubmVjdCh0aGlzLmF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbilcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB0aGlzLnJlbmRlcigpKTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgbG9hZFNvdW5kYmFuaygpIHtcbiAgICBjb25zdCBzb3VuZGJhbmtUcmVlID0gdGhpcy5maWxlc3lzdGVtLmdldCgnc291bmRiYW5rJyk7XG4gICAgY29uc3QgZGVmT2JqID0ge307XG5cbiAgICBzb3VuZGJhbmtUcmVlLmNoaWxkcmVuLmZvckVhY2gobGVhZiA9PiB7XG4gICAgICBpZiAobGVhZi50eXBlID09PSAnZmlsZScpIHtcbiAgICAgICAgZGVmT2JqW2xlYWYubmFtZV0gPSBsZWFmLnVybDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYXVkaW9CdWZmZXJMb2FkZXIubG9hZChkZWZPYmosIHRydWUpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8vIGRlYm91bmNlIHdpdGggcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMucmFmSWQpO1xuXG4gICAgdGhpcy5yYWZJZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgcmVuZGVyKGh0bWxgXG4gICAgICAgIDxkaXYgc3R5bGU9XCJwYWRkaW5nOiAyMHB4XCI+XG4gICAgICAgICAgPGgxIHN0eWxlPVwibWFyZ2luOiAyMHB4IDBcIj4ke3RoaXMuY2xpZW50LnR5cGV9IFtpZDogJHt0aGlzLmNsaWVudC5pZH1dPC9oMT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXY+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgaWQ9XCJiZWdpbkJ1dHRvblwiIHZhbHVlPVwiVmFsaWRhdGVcIi8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2PlxuICAgICAgICA8aW5wdXQgdHlwZT1cImJ1dHRvblwiIGlkPVwic2hvb3RCdXR0b25cIiB2YWx1ZT1cIlNob290XCIgc3R5bGU9XCJ3aWR0aDogMjAwcHg7IGhlaWdodDogMjAwcHg7XCIvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJyYW5nZVwiIGlkPVwic2xpZGVyQXppbUFpbVwiIG1pbj0wIG1heD0zNjAgdmFsdWU9JHt0aGlzLmF6aW11dEFpbX0vPiR7dGhpcy5hemltdXRBaW19XG4gICAgICAgIDwvZGl2PlxuICAgICAgYCwgdGhpcy4kY29udGFpbmVyKTtcblxuICAgICAgLy8gYXNzaWduIGNhbGxiYWNrc1xuICAgICAgaWYgKHRoaXMuaW5pdGlhbGlzaW5nKSB7XG4gICAgICAgIHRoaXMuYmVnaW5CdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJlZ2luQnV0dG9uXCIpO1xuICAgICAgICB0aGlzLmJlZ2luQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5vbkJlZ2luQ2xpY2tlZCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgc2hvb3RCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNob290QnV0dG9uXCIpO1xuICAgICAgICBzaG9vdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgIHRoaXMub25TaG9vdENsaWNrZWQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2xpZGVyQXppbUFpbVwiKTtcbiAgICAgICAgc2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5hemltdXRBaW0gPSBzbGlkZXIudmFsdWU7XG4gICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAvLyB0aGlzLm9uQXppbUFpbUNoYW5nZShzbGlkZXIudmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXNpbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG9uQmVnaW5DbGlja2VkKCkge1xuXG4gICAgY29uc29sZS5sb2coXCJkZVwiKVxuICAgIGNvbnNvbGUubG9nKHRoaXMpXG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2codGhpcy5tb25zdGVycylcbiAgICAgIHRoaXMubW9uc3RlcnMuTGlzdC5wdXNoKG5ldyBNb25zdGVyKHRoaXMubW9uc3RlcnMsIHRoaXMuYXVkaW9Db250ZXh0KSk7XG4gICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLm1vbnN0ZXJMaXN0KVxuICAgICAgdGhpcy5tb25zdGVycy5MaXN0W3RoaXMubW9uc3RlcnMuTGlzdC5sZW5ndGgtMV0uc3RhcnQoKVxuICAgICAgLy8gdGhpcy5tb25zdGVyVGVtcGxhdGUgKz0gMjtcbiAgICB9LCAxMDAwKnRoaXMubW9uc3RlcnMuU3Bhd25SYXRlKVxuICB9XG5cbiAgb25TaG9vdENsaWNrZWQoKSB7XG4gICAgdmFyIGtpbGxpbmcgPSBmYWxzZTtcbiAgICB2YXIgaXRlcmF0b3IgPSAwO1xuICAgIHRoaXMuUGxheSh0aGlzLnNvdW5kQmFuay5TaG9vdCk7XG4gICAgd2hpbGUgKChpdGVyYXRvciA8IHRoaXMubW9uc3RlcnMuTGlzdC5sZW5ndGgpICYmICh0aGlzLm1vbnN0ZXJzLkxpc3RbaXRlcmF0b3JdLlNob290KHRoaXMuYXppbXV0QWltKSA+IHRoaXMuYXppbXV0UHJlY2lzaW9uKSkge1xuICAgICAgaXRlcmF0b3IgKz0gMVxuICAgIH1cbiAgICBpZiAoaXRlcmF0b3IgPCB0aGlzLm1vbnN0ZXJzLkxpc3QubGVuZ3RoKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIllvdSBraWxsIGEgbW9uc3RlclwiKVxuICAgICAgdGhpcy5QbGF5KHRoaXMuc291bmRCYW5rLk1vbnN0ZXJEaWUpO1xuICAgICAgdGhpcy5tb25zdGVycy5MaXN0W2l0ZXJhdG9yXS5EaWUoKTtcbiAgICAgIHRoaXMubW9uc3RlcnMuTGlzdC5zcGxpY2UoaXRlcmF0b3IsIDEpO1xuICAgICAgY29uc29sZS5sb2codGhpcy5tb25zdGVycy5MaXN0KVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiWW91IG1pc3MgeW91ciBzaG9vdFwiKTtcbiAgICAgIHRoaXMubW9uc3RlcnMuTGlzdCA9IFtdO1xuICAgIH1cbiAgfVxuXG4gIFBsYXkoYnVmZmVyKSB7XG4gICAgdmFyIFNvdW5kID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKClcbiAgICBTb3VuZC5sb29wID0gZmFsc2U7XG4gICAgU291bmQuYnVmZmVyID0gYnVmZmVyO1xuICAgIFNvdW5kLmNvbm5lY3QodGhpcy5wbGF5ZXJHYWluKVxuXG4gICAgU291bmQuYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCAoKSA9PiB7U291bmQuZGlzY29ubmVjdCh0aGlzLnBsYXllckdhaW4pO30pXG5cbiAgICBTb3VuZC5zdGFydCgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBsYXllckV4cGVyaWVuY2U7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFFQTs7OztBQUVBLE1BQU1BLGdCQUFOLFNBQStCQywwQkFBL0IsQ0FBa0Q7RUFDaERDLFdBQVcsQ0FBQ0MsTUFBRCxFQUFTQyxNQUFNLEdBQUcsRUFBbEIsRUFBc0JDLFVBQXRCLEVBQWtDO0lBQzNDLE1BQU1GLE1BQU47SUFFQSxLQUFLQyxNQUFMLEdBQWNBLE1BQWQ7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